:root {
    /* shared scales */
    --label-size: clamp(.6rem, 2.2vw, 1rem);
    --content-gutter: 0.8vh;

    /* smooth theme transitions (optional) */
    --theme-transition: color .15s linear, background-color .15s linear, border-color .15s linear;
}

:root,
:root[data-theme="day"] {
    /* Daylight theme */
    --bg: #000000;
    --utc: #7cc7ff;         /* UTC clock */
    --gps: #c792ea;         /* GPS position */
    --sun: #ffb86c;         /* sun times */
    --local: #7bd5a7;       /* local time */
    --status-bg: #0a0a0a;   /* top and bottom bars */
    --status-fg: #c0c0c0;   /* default status */
    --status-ok: #9aff7a;   /* locked */
    --status-warn: #ffd966; /* requesting */
    --status-bad: #ff6b6b;  /* denied */
    --muted: #9aa0a6;
}

/* Night theme with warm, blue-light-reduced  colors*/
:root[data-theme="dim"] {
    --bg: #000000;
    --utc: #ba0000;
    --gps: #a27294;
    --sun: #ce9558;
    --local: #d16507;
    --status-bg: #0b0b0b;
    --status-fg: #89867f;
    --status-ok: #8c9a0f;
    --status-warn: #9f8854;
    --status-bad: #9f4c47;
    --muted: #8f8a80;
}

/* All red theme */
:root[data-theme="red"] {
    --bg: #000000;
    --utc: #bb0000;
    --gps: #880000;
    --sun: #990000;
    --local: #bb0000;
    --status-bg: #0b0000;
    --status-fg: #880000;
    --status-ok: #770000;
    --status-warn: #9f0000;
    --status-bad: #cc0000;
    --muted: #770000;
}

/* Reset boxing, monospace everywhere */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Hide idle mouse pointer */
html, body { cursor: auto; }

/* Master layout */
html {
    height: 100%;
}
body {
    width: 100vw;
    height: 100vh;
    min-height: 100vh;
    overflow: scroll;
    /* padding: var(--content-gutter) var(--content-gutter) 0 var(--content-gutter); */
    color: #ff0000;  /* Highlight unstyled content (should not happen) */
    background: var(--bg);
    transition: var(--theme-transition);
    display: grid;
    grid-template-rows: auto 1fr auto;  /* header, main, footer */
    /* row-gap: var(--content-gutter); */
}

/* Three-row flex layout with header, main, footer */ 
header {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    color: var(--status-fg);
    background: var(--status-bg);
    font-size: 2.3vw;
    /* padding: .6rem 1rem; */
    justify-content: space-between;
    gap:1rem;
    white-space:nowrap;
    border-bottom: 1px solid #1a1a1a;
    margin-bottom: 2vh;
}
main {
    width: 100%;
    height: 100%;
    min-height: 100%;
    overflow: hidden;
    /* padding: var(--content-gutter) var(--content-gutter) 0 var(--content-gutter); */
    display: grid;
    grid-template-rows: 1fr 1fr;
    /* row-gap: var(--content-gutter); */
}
footer {
    color: var(--status-fg);
    background: var(--status-bg);
    border-top: 1px solid #1a1a1a;
    /* padding: .6rem 1rem; */
    font-size: 2.3vw;
    display: grid;
    grid-template-columns: 1fr 1fr;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    white-space: nowrap;
    margin-top: 4vh;
}

/* First article contains UTC, second article contains local times */
article {
    width: 100%;
    height: 100%;
    overflow: hidden;
    /* padding: var(--content-gutter) var(--content-gutter) 0 var(--content-gutter); */
    display: grid;
    /* grid-auto-flow: column; */
    grid-template-rows: 1fr auto;
    /* row-gap: var(--content-gutter); */
}

/* First section is huge clock, second is sun times */
section {
    width: 100%;
    height: 100%;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    /* padding: var(--content-gutter) calc(2vw + var(--content-gutter)); */
    white-space: nowrap; /* no wrapping */
}

/* Reusable layout classes */
.row   { display: flex; flex-direction: row;    align-items: center; justify-content: center; gap: min(5vw, 5vh); }
.stack { display: flex; flex-direction: column; align-items: center; justify-content: center; }
.centered { display: flex; align-items: center; justify-content: center; overflow: hidden; text-align: center; }
.label { font-size: calc(min(var(--label-size), 2.5vh)); color: var(--muted); line-height: 1.1; margin-top: .25em; text-align: center; }
.value { /* typically simple times like 00:00 */
    --chars: 5;
    font-size: calc(min(20vw, 30vh) / var(--chars));
    line-height: 1.1;
    letter-spacing: .04em;
    font-variant-numeric: tabular-nums;
    /* padding:.2em .3em; */
}


/* Individual styling */
#utcSec { color: var(--utc); }
#gpsSec { color: var(--gps); }
#sunUtcSec { color: var(--sun); }
#sunLocalSec { color: var(--sun); }
#localSec { color: var(--local); }
#utcDate, #latVal, #lonVal { color: var(--gps); }
#utcClock, #localTime, #localOffset {
    letter-spacing: .04em;
    font-variant-numeric: tabular-nums;
}
#utcClock {
    --chars: 9;
    font-size: calc(min(130vw, 210vh) / var(--chars));
    line-height: 1;
}
#localRow {
    --chars: 13;
    font-size: calc(min(150vw, 250vh) / var(--chars));
    line-height: 1;
}  

/* Local offset buttons styling */
.btn { font-size: min(9vh, 9vw); color: var(--local); }
.btn:active { transform: translateY(3px); }

/* Status bar styling */
#statusText{ font-variant-numeric: tabular-nums; }
#statusHint { text-align: right; }
#statusHint button{ color: #bbb; cursor: pointer; all: unset; cursor: pointer; text-decoration: none; }
.ok{ color: var(--status-ok); }
.warn{ color: var(--status-warn); }
.bad{ color: var(--status-bad); cursor: pointer; }
